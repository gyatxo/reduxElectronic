{"ast":null,"code":"var _jsxFileName = \"/Users/gyatxo/Desktop/WICC/electronic/src/Component/ProductPage.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport Cart from './Cart';\nimport Filter from './Filter';\nimport axios from \"axios\";\nimport ProductCard from './ProductCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction ProductPage(props) {\n  _s();\n\n  const [userItem, setUserItem] = useState([]);\n  const [productList, setProductList] = useState([]);\n  const [filterItem, setFilterItem] = useState([]);\n  const {\n    showCart,\n    countItem,\n    setCountItem\n  } = props; // console.log(productList)\n\n  const removeCartItem = product => {\n    let cartItems = userItem.filter(item => {\n      return item.id !== product.id;\n    });\n    setUserItem(cartItems);\n    setCountItem(countItem - product.count);\n  };\n\n  const fetchProduct = async () => {\n    var _response$data, _response$data$data;\n\n    const response = await axios.get('https://electronic-ecommerce.herokuapp.com/api/v1/product');\n\n    if (response !== null && response !== void 0 && (_response$data = response.data) !== null && _response$data !== void 0 && (_response$data$data = _response$data.data) !== null && _response$data$data !== void 0 && _response$data$data.product) {\n      setProductList(response.data.data.product);\n      setFilterItem(response.data.data.product);\n    }\n  };\n\n  useEffect(() => {\n    fetchProduct();\n  }, []);\n\n  const filterBtn = () => {\n    let selectorValue = document.getElementById(\"filter-select\").value;\n    let minValue = document.getElementById(\"filter-min\").value;\n    let maxValue = document.getElementById(\"filter-max\").value;\n    let filteredProduct;\n\n    if (selectorValue !== null && minValue !== \"\" && maxValue !== \"\") {\n      filteredProduct = filterItem.filter(product => {\n        let newPrice = product.price.slice(1, product.price.length);\n        let nepaliPrice = Number(newPrice) * 119;\n        return (nepaliPrice >= minValue && nepaliPrice) <= maxValue && product.category[1] === selectorValue;\n      });\n    } else if (selectorValue) {\n      filteredProduct = filterItem.filter(product => {\n        return product.category[1] === selectorValue;\n      });\n    }\n\n    setProductList(filteredProduct);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: showCart ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-container\",\n      children: [/*#__PURE__*/_jsxDEV(Cart, {\n        userItem: userItem,\n        removeCartItem: removeCartItem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"product-title\",\n          children: \"Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"product-btn\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-funnel-fill\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 19\n          }, this), \"Filter\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row product-row\",\n        children: productList.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3\",\n          children: /*#__PURE__*/_jsxDEV(ProductCard, {\n            productName: product.name,\n            price: product.price,\n            stock: product.stock,\n            imgName: product.image,\n            category: product.category,\n            id: product.id,\n            product: product,\n            productDate: product.createDate,\n            countItem: countItem,\n            setCountItem: setCountItem,\n            userItem: userItem,\n            setUserItem: setUserItem\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 21\n          }, this)\n        }, product.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 19\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-container\",\n      children: [/*#__PURE__*/_jsxDEV(Filter, {\n        filterBtn: filterBtn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row product-row\",\n        children: productList.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3\",\n          children: /*#__PURE__*/_jsxDEV(ProductCard, {\n            productName: product.name,\n            price: product.price,\n            stock: product.stock,\n            imgName: product.image,\n            category: product.category,\n            id: product.id,\n            product: product,\n            productDate: product.createDate,\n            countItem: countItem,\n            setCountItem: setCountItem,\n            userItem: userItem,\n            setUserItem: setUserItem\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 19\n          }, this)\n        }, product.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(ProductPage, \"g6MgVudPhCZK9RcI5P0Atioxirg=\");\n\n_c = ProductPage;\nexport default ProductPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductPage\");","map":{"version":3,"sources":["/Users/gyatxo/Desktop/WICC/electronic/src/Component/ProductPage.js"],"names":["useState","useEffect","Cart","Filter","axios","ProductCard","ProductPage","props","userItem","setUserItem","productList","setProductList","filterItem","setFilterItem","showCart","countItem","setCountItem","removeCartItem","product","cartItems","filter","item","id","count","fetchProduct","response","get","data","filterBtn","selectorValue","document","getElementById","value","minValue","maxValue","filteredProduct","newPrice","price","slice","length","nepaliPrice","Number","category","map","name","stock","image","createDate"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport Cart from './Cart'\nimport Filter from './Filter'\nimport axios from \"axios\";\nimport ProductCard from './ProductCard'\n\n\nfunction ProductPage(props) {\n    const [userItem, setUserItem]= useState([]);\n    const [productList, setProductList]= useState([])\n    const [filterItem, setFilterItem]= useState([])\n    const{showCart,countItem,setCountItem}=props;\n\n// console.log(productList)\nconst removeCartItem = (product) => {\n  let cartItems = userItem.filter((item) => {\n    return item.id !== product.id;\n  });\n  setUserItem(cartItems);\n  setCountItem(countItem - product.count);\n};\n\nconst fetchProduct = async () =>{\n    const response = await axios.get('https://electronic-ecommerce.herokuapp.com/api/v1/product')\n  \n    if(response?.data?.data?.product){\n      setProductList(response.data.data.product)\n      setFilterItem(response.data.data.product)\n    }\n}\n\n\n  useEffect(()=>{\n  fetchProduct()\n  },[])\n\n  const filterBtn = () => {\n    let selectorValue = document.getElementById(\"filter-select\").value;\n    let minValue = document.getElementById(\"filter-min\").value;\n    let maxValue = document.getElementById(\"filter-max\").value;\n    let filteredProduct;\n\n    if (selectorValue !== null && minValue !== \"\" && maxValue !== \"\") {\n      filteredProduct = filterItem.filter((product) => {\n        let newPrice = product.price.slice(1, product.price.length);\n        let nepaliPrice = Number(newPrice) * 119;\n        return (\n          (nepaliPrice >= minValue && nepaliPrice) <= maxValue &&\n          product.category[1] === selectorValue\n        );\n      });\n    } else if (selectorValue) {\n      filteredProduct = filterItem.filter((product) => {\n        return product.category[1] === selectorValue;\n      });\n    }\n    setProductList(filteredProduct);\n  };\n\n\n      return (\n    <>\n    {showCart ? (\n        <div className=\"product-container\">\n          \n            \n              <Cart userItem={userItem} removeCartItem={removeCartItem} />\n\n              <div className=\"product-header\">\n                <h4 className=\"product-title\">Products</h4>\n                <button className=\"product-btn\">\n                  {\" \"}\n                  <i className=\"bi bi-funnel-fill\"></i>Filter\n                </button>\n              </div>\n\n              <div className=\"row product-row\">\n                {productList.map((product) => (\n                  <div key={product.id} className=\"col-md-3\">\n                    <ProductCard\n                      productName={product.name}\n                      price={product.price}\n                      stock={product.stock}\n                      imgName={product.image}\n                      category={product.category}\n                      id={product.id}\n                      product={product}\n                      productDate={product.createDate}\n                      countItem={countItem} setCountItem={setCountItem}\n                      userItem={userItem}\n                      setUserItem={setUserItem}\n                      \n                    />\n                  </div>\n                ))}\n              </div>\n        </div>\n      ) : (\n        <div className=\"product-container\">\n          <Filter filterBtn={filterBtn}/>\n\n          <div className=\"row product-row\">\n            \n              {productList.map((product) => (\n                <div key={product.id} className=\"col-md-3\">\n                  <ProductCard\n                    productName={product.name}\n                    price={product.price}\n                    stock={product.stock}\n                    imgName={product.image}\n                    category={product.category}\n                    id={product.id}\n                    product={product}\n                    productDate={product.createDate}\n                    countItem={countItem} setCountItem={setCountItem}\n                    userItem={userItem}\n                    setUserItem={setUserItem}\n                  />\n                </div>\n              ))}\n            \n          </div>\n        </div>\n      )}\n    </>\n      )}\n\n\nexport default ProductPage"]},"metadata":{},"sourceType":"module"}