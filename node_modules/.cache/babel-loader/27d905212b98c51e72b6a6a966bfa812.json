{"ast":null,"code":"const initialState = {\n  products: [],\n  filterProducts: [],\n  itemCount: 0,\n  showCart: false,\n  cart: []\n};\n\nconst shopReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'FETCH_PRODUCT':\n      return { ...state,\n        products: action.payload\n      };\n\n    case 'FILTER_PRODUCT':\n      return { ...state,\n        filterProducts: action.payload // products: selectorValue !== null && mi\n\n      };\n\n    case 'FILTERED_PRODUCT':\n      let selectorValue = document.getElementById(\"filter-select\").value;\n      let minValue = document.getElementById(\"filter-min\").value;\n      let maxValue = document.getElementById(\"filter-max\").value; //     if (null) {\n      //       filteredProduct = filterItem.filter((product) => {\n      //         let newPrice = product.price.slice(1, product.price.length);\n      //         let nepaliPrice = Number(newPrice) * 119;\n      //         return (\n      //           (nepaliPrice >= minValue && nepaliPrice) <= maxValue &&\n      //           product.category[1] === selectorValue\n      //         );\n      //       });\n      //     } else if (selectorValue) {\n      //       filteredProduct = filterItem.filter((product) => {\n      //         return product.category[1] === selectorValue;\n      //       });\n      //     }\n      //     products = filteredProduct;\n      //     console.log(products,'filter')\n      //   };\n\n      return { ...state,\n        products: selectorValue !== null && minValue !== \"\" && maxValue !== \"\" ? state.filterProducts.filter(product => {\n          let newPrice = product.price.slice(1, product.price.length);\n          let nepaliPrice = Number(newPrice) * 119;\n          return (nepaliPrice >= minValue && nepaliPrice) <= maxValue && product.category[1] === selectorValue;\n        }) : selectorValue ? filteredProduct = filterItem.filter(product => {\n          return product.category[1] === selectorValue;\n        }) : state.products\n      };\n\n    case 'INCREASE':\n      return { ...state,\n        itemCount: state.itemCount + 1\n      };\n\n    case 'DECREASE':\n      return { ...state,\n        itemCount: state.itemCount === 0 ? state.itemCount : state.itemCount - 1\n      };\n\n    case 'SHOW_CART':\n      return { ...state,\n        showCart: !state.showCart\n      };\n\n    case 'ADD_TO_CART':\n      let item = state.products.find(prod => prod.id === action.payload.product.id);\n      let inCart = state.cart.find(item => item.id === action.payload.product.id ? true : false);\n      return { ...state,\n        cart: inCart ? state.cart.map(item => item.id === action.payload.product.id ? { ...item,\n          itemCount: state.itemCount + 1\n        } : item) : [...state.cart, { ...item,\n          itemCount: 1\n        }]\n      };\n\n    case 'REMOVE_FROM_CART':\n      return { ...state,\n        cart: state.cart.filter(item => item.id !== action.payload.product.id)\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default shopReducer;","map":{"version":3,"sources":["/Users/gyatxo/Desktop/WICC/reduxElectronic/src/Redux/Reducer/shopReducer.js"],"names":["initialState","products","filterProducts","itemCount","showCart","cart","shopReducer","state","action","type","payload","selectorValue","document","getElementById","value","minValue","maxValue","filter","product","newPrice","price","slice","length","nepaliPrice","Number","category","filteredProduct","filterItem","item","find","prod","id","inCart","map"],"mappings":"AAAA,MAAMA,YAAY,GAAG;AACjBC,EAAAA,QAAQ,EAAG,EADM;AAEjBC,EAAAA,cAAc,EAAG,EAFA;AAGjBC,EAAAA,SAAS,EAAE,CAHM;AAIjBC,EAAAA,QAAQ,EAAE,KAJO;AAKjBC,EAAAA,IAAI,EAAE;AALW,CAArB;;AAQA,MAAMC,WAAW,GAAG,YAA+B;AAAA,MAA9BC,KAA8B,uEAAvBP,YAAuB;AAAA,MAATQ,MAAS;;AAC/C,UAAOA,MAAM,CAACC,IAAd;AACI,SAAK,eAAL;AACI,aAAO,EACH,GAAGF,KADA;AAEHN,QAAAA,QAAQ,EAAEO,MAAM,CAACE;AAFd,OAAP;;AAIJ,SAAK,gBAAL;AACI,aAAO,EACH,GAAGH,KADA;AAEHL,QAAAA,cAAc,EAAEM,MAAM,CAACE,OAFpB,CAGH;;AAHG,OAAP;;AAKJ,SAAK,kBAAL;AACI,UAAIC,aAAa,GAAGC,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,KAA7D;AACA,UAAIC,QAAQ,GAAGH,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,KAArD;AACA,UAAIE,QAAQ,GAAGJ,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,KAArD,CAHJ,CAKR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACY,aAAO,EACH,GAAGP,KADA;AAEHN,QAAAA,QAAQ,EAACU,aAAa,KAAK,IAAlB,IAA0BI,QAAQ,KAAK,EAAvC,IAA6CC,QAAQ,KAAK,EAA1D,GAA+DT,KAAK,CAACL,cAAN,CAAqBe,MAArB,CAA6BC,OAAD,IAAa;AAC7G,cAAIC,QAAQ,GAAGD,OAAO,CAACE,KAAR,CAAcC,KAAd,CAAoB,CAApB,EAAuBH,OAAO,CAACE,KAAR,CAAcE,MAArC,CAAf;AACA,cAAIC,WAAW,GAAGC,MAAM,CAACL,QAAD,CAAN,GAAmB,GAArC;AACA,iBACE,CAACI,WAAW,IAAIR,QAAf,IAA2BQ,WAA5B,KAA4CP,QAA5C,IACAE,OAAO,CAACO,QAAR,CAAiB,CAAjB,MAAwBd,aAF1B;AAID,SAPqE,CAA/D,GAOHA,aAAa,GAAGe,eAAe,GAAGC,UAAU,CAACV,MAAX,CAAmBC,OAAD,IAAa;AAC3D,iBAAOA,OAAO,CAACO,QAAR,CAAiB,CAAjB,MAAwBd,aAA/B;AACD,SAF6B,CAArB,GAEJJ,KAAK,CAACN;AAXlB,OAAP;;AAaJ,SAAK,UAAL;AACI,aAAO,EACH,GAAGM,KADA;AAEHJ,QAAAA,SAAS,EAAEI,KAAK,CAACJ,SAAN,GAAkB;AAF1B,OAAP;;AAIJ,SAAK,UAAL;AACI,aAAO,EACH,GAAGI,KADA;AAEHJ,QAAAA,SAAS,EAAEI,KAAK,CAACJ,SAAN,KAAkB,CAAlB,GAAoBI,KAAK,CAACJ,SAA1B,GAAqCI,KAAK,CAACJ,SAAN,GAAgB;AAF7D,OAAP;;AAIJ,SAAK,WAAL;AAEI,aAAO,EACH,GAAGI,KADA;AAEHH,QAAAA,QAAQ,EAAE,CAACG,KAAK,CAACH;AAFd,OAAP;;AAIJ,SAAK,aAAL;AACI,UAAIwB,IAAI,GAAGrB,KAAK,CAACN,QAAN,CAAe4B,IAAf,CAAqBC,IAAD,IAAQA,IAAI,CAACC,EAAL,KAAYvB,MAAM,CAACE,OAAP,CAAeQ,OAAf,CAAuBa,EAA/D,CAAX;AACA,UAAIC,MAAM,GAAGzB,KAAK,CAACF,IAAN,CAAWwB,IAAX,CAAiBD,IAAD,IAASA,IAAI,CAACG,EAAL,KAAYvB,MAAM,CAACE,OAAP,CAAeQ,OAAf,CAAuBa,EAAnC,GAAwC,IAAxC,GAA+C,KAAxE,CAAb;AACA,aAAM,EACF,GAAGxB,KADD;AAEFF,QAAAA,IAAI,EAAE2B,MAAM,GAAGzB,KAAK,CAACF,IAAN,CAAW4B,GAAX,CAAgBL,IAAD,IAASA,IAAI,CAACG,EAAL,KAAYvB,MAAM,CAACE,OAAP,CAAeQ,OAAf,CAAuBa,EAAnC,GAAwC,EAAC,GAAGH,IAAJ;AAASzB,UAAAA,SAAS,EAAEI,KAAK,CAACJ,SAAN,GAAgB;AAApC,SAAxC,GAA+EyB,IAAvG,CAAH,GACV,CAAC,GAAGrB,KAAK,CAACF,IAAV,EAAgB,EAAC,GAAGuB,IAAJ;AAAUzB,UAAAA,SAAS,EAAE;AAArB,SAAhB;AAHA,OAAN;;AAKJ,SAAK,kBAAL;AACI,aAAM,EACF,GAAGI,KADD;AAEFF,QAAAA,IAAI,EAAEE,KAAK,CAACF,IAAN,CAAWY,MAAX,CAAmBW,IAAD,IAAQA,IAAI,CAACG,EAAL,KAAUvB,MAAM,CAACE,OAAP,CAAeQ,OAAf,CAAuBa,EAA3D;AAFJ,OAAN;;AAIJ;AACI,aAAOxB,KAAP;AA7ER;AA+EH,CAhFD;;AAkFA,eAAeD,WAAf","sourcesContent":["const initialState = {\n    products : [],\n    filterProducts : [],\n    itemCount: 0,\n    showCart: false,\n    cart: []\n}\n\nconst shopReducer = (state= initialState, action)=>{\n    switch(action.type){\n        case 'FETCH_PRODUCT':\n            return {\n                ...state,\n                products: action.payload\n            }\n        case 'FILTER_PRODUCT':\n            return {\n                ...state,\n                filterProducts: action.payload,\n                // products: selectorValue !== null && mi\n            }\n        case 'FILTERED_PRODUCT':\n            let selectorValue = document.getElementById(\"filter-select\").value;\n            let minValue = document.getElementById(\"filter-min\").value;\n            let maxValue = document.getElementById(\"filter-max\").value;\n\n//     if (null) {\n//       filteredProduct = filterItem.filter((product) => {\n//         let newPrice = product.price.slice(1, product.price.length);\n//         let nepaliPrice = Number(newPrice) * 119;\n//         return (\n//           (nepaliPrice >= minValue && nepaliPrice) <= maxValue &&\n//           product.category[1] === selectorValue\n//         );\n//       });\n//     } else if (selectorValue) {\n//       filteredProduct = filterItem.filter((product) => {\n//         return product.category[1] === selectorValue;\n//       });\n//     }\n//     products = filteredProduct;\n//     console.log(products,'filter')\n//   };\n            return {\n                ...state,\n                products:selectorValue !== null && minValue !== \"\" && maxValue !== \"\" ? state.filterProducts.filter((product) => {\n                    let newPrice = product.price.slice(1, product.price.length);\n                    let nepaliPrice = Number(newPrice) * 119;\n                    return (\n                      (nepaliPrice >= minValue && nepaliPrice) <= maxValue &&\n                      product.category[1] === selectorValue\n                    );\n                  }): selectorValue ? filteredProduct = filterItem.filter((product) => {\n                            return product.category[1] === selectorValue;\n                          }) : state.products \n            }    \n        case 'INCREASE':    \n            return {\n                ...state,\n                itemCount: state.itemCount + 1\n            }\n        case 'DECREASE':    \n            return {\n                ...state,\n                itemCount: state.itemCount===0?state.itemCount: state.itemCount-1 \n            }\n        case 'SHOW_CART':\n            \n            return {\n                ...state,\n                showCart: !state.showCart\n            }\n        case 'ADD_TO_CART':\n            let item = state.products.find((prod)=>prod.id === action.payload.product.id)\n            let inCart = state.cart.find((item)=> item.id === action.payload.product.id ? true : false)\n            return{\n                ...state,\n                cart: inCart ? state.cart.map((item)=> item.id === action.payload.product.id ? {...item,itemCount: state.itemCount+1}:item)\n                : [...state.cart ,{...item, itemCount: 1}]\n            }\n        case 'REMOVE_FROM_CART':\n            return{\n                ...state,\n                cart: state.cart.filter((item)=>item.id!==action.payload.product.id)\n            }\n        default: \n            return state;\n    }\n}\n\nexport default shopReducer;"]},"metadata":{},"sourceType":"module"}