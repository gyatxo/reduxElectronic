{"ast":null,"code":"var _jsxFileName = \"/Users/gyatxo/Desktop/WICC/electronic/src/Component/ProductPage.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport Cart from './Cart';\nimport Filter from './Filter';\nimport axios from \"axios\";\nimport ProductCard from './ProductCard';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchProducts } from '../Redux/Action';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction ProductPage(props) {\n  _s();\n\n  const [userItem, setUserItem] = useState([]);\n  const [productList, setProductList] = useState([]);\n  const [filterItem, setFilterItem] = useState([]);\n  const products = useSelector(state => state.products);\n  const dispatch = useDispatch();\n  const {\n    showCart,\n    countItem,\n    setCountItem\n  } = props;\n  console.log(products);\n\n  const removeCartItem = product => {\n    let cartItems = userItem.filter(item => {\n      return item.id !== product.id;\n    });\n    setUserItem(cartItems);\n    setCountItem(countItem - product.count);\n  };\n\n  const fetchProduct = async () => {\n    var _response$data, _response$data$data;\n\n    const response = await axios.get('https://electronic-ecommerce.herokuapp.com/api/v1/product');\n\n    if (response !== null && response !== void 0 && (_response$data = response.data) !== null && _response$data !== void 0 && (_response$data$data = _response$data.data) !== null && _response$data$data !== void 0 && _response$data$data.product) {\n      dispatch(fetchProducts(response.data.data.product));\n      setProductList(response.data.data.product);\n      setFilterItem(response.data.data.product);\n    }\n  };\n\n  useEffect(() => {\n    fetchProduct();\n  });\n\n  const filterBtn = () => {\n    let selectorValue = document.getElementById(\"filter-select\").value;\n    let minValue = document.getElementById(\"filter-min\").value;\n    let maxValue = document.getElementById(\"filter-max\").value;\n    let filteredProduct;\n\n    if (selectorValue !== null && minValue !== \"\" && maxValue !== \"\") {\n      filteredProduct = filterItem.filter(product => {\n        let newPrice = product.price.slice(1, product.price.length);\n        let nepaliPrice = Number(newPrice) * 119;\n        return (nepaliPrice >= minValue && nepaliPrice) <= maxValue && product.category[1] === selectorValue;\n      });\n    } else if (selectorValue) {\n      filteredProduct = filterItem.filter(product => {\n        return product.category[1] === selectorValue;\n      });\n    }\n\n    setProductList(filteredProduct);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: showCart ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-container\",\n      children: [/*#__PURE__*/_jsxDEV(Cart, {\n        userItem: userItem,\n        removeCartItem: removeCartItem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"product-title\",\n          children: \"Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"product-btn\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-funnel-fill\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 19\n          }, this), \"Filter\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row product-row\",\n        children: productList.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3\",\n          children: /*#__PURE__*/_jsxDEV(ProductCard, {\n            productName: product.name,\n            price: product.price,\n            stock: product.stock,\n            imgName: product.image,\n            product: product,\n            productDate: product.createDate,\n            countItem: countItem,\n            setCountItem: setCountItem,\n            userItem: userItem,\n            setUserItem: setUserItem\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 21\n          }, this)\n        }, product.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 19\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-container\",\n      children: [/*#__PURE__*/_jsxDEV(Filter, {\n        filterBtn: filterBtn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row product-row\",\n        children: productList.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3\",\n          children: /*#__PURE__*/_jsxDEV(ProductCard, {\n            productName: product.name,\n            price: product.price,\n            stock: product.stock,\n            imgName: product.image,\n            product: product,\n            productDate: product.createDate,\n            countItem: countItem,\n            setCountItem: setCountItem,\n            userItem: userItem,\n            setUserItem: setUserItem\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 19\n          }, this)\n        }, product.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(ProductPage, \"503F0o2BsKteJ2MyTFy7/eBjmLM=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = ProductPage;\nexport default ProductPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductPage\");","map":{"version":3,"sources":["/Users/gyatxo/Desktop/WICC/electronic/src/Component/ProductPage.js"],"names":["useState","useEffect","Cart","Filter","axios","ProductCard","useDispatch","useSelector","fetchProducts","ProductPage","props","userItem","setUserItem","productList","setProductList","filterItem","setFilterItem","products","state","dispatch","showCart","countItem","setCountItem","console","log","removeCartItem","product","cartItems","filter","item","id","count","fetchProduct","response","get","data","filterBtn","selectorValue","document","getElementById","value","minValue","maxValue","filteredProduct","newPrice","price","slice","length","nepaliPrice","Number","category","map","name","stock","image","createDate"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport Cart from './Cart'\nimport Filter from './Filter'\nimport axios from \"axios\";\nimport ProductCard from './ProductCard'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchProducts } from '../Redux/Action';\n\n\nfunction ProductPage(props) {\n    const [userItem, setUserItem]= useState([]);\n    const [productList, setProductList]= useState([])\n    const [filterItem, setFilterItem]= useState([])\n    const products = useSelector((state)=> state.products)\n    const dispatch = useDispatch();\n    const{showCart,countItem,setCountItem}=props;\n\nconsole.log(products)\nconst removeCartItem = (product) => {\n  let cartItems = userItem.filter((item) => {\n    return item.id !== product.id;\n  });\n  setUserItem(cartItems);\n  setCountItem(countItem - product.count);\n};\n\nconst fetchProduct = async () =>{\n    const response = await axios.get('https://electronic-ecommerce.herokuapp.com/api/v1/product')\n  \n    if(response?.data?.data?.product){\n      dispatch(fetchProducts(response.data.data.product))\n      setProductList(response.data.data.product)\n      setFilterItem(response.data.data.product)\n    }\n}\n\n\n  useEffect(()=>{\n  fetchProduct()\n  })\n\n  const filterBtn = () => {\n    let selectorValue = document.getElementById(\"filter-select\").value;\n    let minValue = document.getElementById(\"filter-min\").value;\n    let maxValue = document.getElementById(\"filter-max\").value;\n    let filteredProduct;\n\n    if (selectorValue !== null && minValue !== \"\" && maxValue !== \"\") {\n      filteredProduct = filterItem.filter((product) => {\n        let newPrice = product.price.slice(1, product.price.length);\n        let nepaliPrice = Number(newPrice) * 119;\n        return (\n          (nepaliPrice >= minValue && nepaliPrice) <= maxValue &&\n          product.category[1] === selectorValue\n        );\n      });\n    } else if (selectorValue) {\n      filteredProduct = filterItem.filter((product) => {\n        return product.category[1] === selectorValue;\n      });\n    }\n    setProductList(filteredProduct);\n  };\n\n\n      return (\n    <>\n    {showCart ? (\n        <div className=\"product-container\">\n          \n            \n              <Cart userItem={userItem} removeCartItem={removeCartItem} />\n\n              <div className=\"product-header\">\n                <h4 className=\"product-title\">Products</h4>\n                <button className=\"product-btn\">\n                  {\" \"}\n                  <i className=\"bi bi-funnel-fill\"></i>Filter\n                </button>\n              </div>\n\n              <div className=\"row product-row\">\n                {productList.map((product) => (\n                  <div key={product.id} className=\"col-md-3\">\n                    <ProductCard\n                      productName={product.name}\n                      price={product.price}\n                      stock={product.stock}\n                      imgName={product.image}\n                      product={product}\n                      productDate={product.createDate}\n                      countItem={countItem} setCountItem={setCountItem}\n                      userItem={userItem}\n                      setUserItem={setUserItem}\n                      \n                    />\n                  </div>\n                ))}\n              </div>\n        </div>\n      ) : (\n        <div className=\"product-container\">\n          <Filter filterBtn={filterBtn}/>\n\n          <div className=\"row product-row\">\n            \n              {productList.map((product) => (\n                <div key={product.id} className=\"col-md-3\">\n                  <ProductCard\n                    productName={product.name}\n                    price={product.price}\n                    stock={product.stock}\n                    imgName={product.image}\n                    product={product}\n                    productDate={product.createDate}\n                    countItem={countItem} setCountItem={setCountItem}\n                    userItem={userItem}\n                    setUserItem={setUserItem}\n                  />\n                </div>\n              ))}\n            \n          </div>\n        </div>\n      )}\n    </>\n      )}\n\n\nexport default ProductPage"]},"metadata":{},"sourceType":"module"}